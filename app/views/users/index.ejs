<div class="page-header text-center">
<h1>
	<span>U</span>
	<span>s</span>
	<span>e</span>
	<span>r</span>
	<span>s</span>
</h1>
</div>
<ng-view></ng-view>

<!-- Template -->
<script type="text/ng-template" id="/users.html">
	Search: <input type="text" ng-model="search.local.username">
	<ul>
		<li ng-repeat="user in users | filter: search">
			<a href="/users/{{user._id}}">{{user.local.username}}</a>
		</li>
	</ul>
</script>

<script>
	angular.module('app', ['ngRoute'])
		//---------------
		// Controllers
		//---------------
		.controller('UsersController', function ($scope, $http) {
			$http.get('/users', {
				headers: {
					'Accept': 'application/json'
				}
			}).then(function(response) {
				var users = response.data;
				$scope.users = users;
			});
		})

		//---------------
		// Routes
		//---------------
		.config(['$routeProvider', function ($routeProvider) {
			$routeProvider
				.when('/', {
					templateUrl: '/users.html',
					controller: 'UsersController'
				});
		}]);
</script>
